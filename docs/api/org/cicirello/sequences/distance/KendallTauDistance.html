<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_05) on Fri Sep 21 11:40:43 EDT 2018 -->
<title>KendallTauDistance (JavaPermutationTools - A Java API for computation on permutations)</title>
<meta name="date" content="2018-09-21">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="KendallTauDistance (JavaPermutationTools - A Java API for computation on permutations)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/cicirello/sequences/distance/ExactMatchDistance.html" title="class in org.cicirello.sequences.distance"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/cicirello/sequences/distance/LongestCommonSubsequenceDistance.html" title="class in org.cicirello.sequences.distance"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/cicirello/sequences/distance/KendallTauDistance.html" target="_top">Frames</a></li>
<li><a href="KendallTauDistance.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.cicirello.sequences.distance</div>
<h2 title="Class KendallTauDistance" class="title">Class KendallTauDistance</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html" title="class in org.cicirello.sequences.distance">org.cicirello.sequences.distance.AbstractSequenceDistanceMeasurer</a></li>
<li>
<ul class="inheritance">
<li>org.cicirello.sequences.distance.KendallTauDistance</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/cicirello/sequences/distance/SequenceDistanceMeasurer.html" title="interface in org.cicirello.sequences.distance">SequenceDistanceMeasurer</a>, <a href="../../../../org/cicirello/sequences/distance/SequenceDistanceMeasurerDouble.html" title="interface in org.cicirello.sequences.distance">SequenceDistanceMeasurerDouble</a></dd>
</dl>
<hr>
<br>
<pre>public final class <span class="typeNameLabel">KendallTauDistance</span>
extends <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html" title="class in org.cicirello.sequences.distance">AbstractSequenceDistanceMeasurer</a></pre>
<div class="block"><p>Kendall Tau distance is
 the minimum number of adjacent swaps necessary to transform one sequence into the other.
 Thus, for this reason, it is sometimes also known as bubble sort distance since bubble sort uses adjacent swaps to sort.</p>

 <p>As a distance metric, it originated specifically to measure distance between permutations (i.e., sequence of unique elements).
 In the case of permutations, it is very closely related to Kendall tau rank correlation.  Kendall tau distance (for permutations) is essentially
 the count of the number of permutation inversions (or discordant pairs), 
 providing a minimum distance of 0 for identical permutations and a maximum distance of n(n-1)/2,
 where n is the length.  The max case is distance between a permutation and its reverse.</p>

 <p>Adapting Kendall tau distance from permutations to general sequences (i.e., strings that can contain duplicate elements) is usually,
 and (in our opinion) incorrectly done using the equivalent adaptation of Kendall tau rank correlation to partial rankings (i.e., rankings 
 involving ties).  That extension of Kendall tau distance to strings uses the same sort of count of discordant pairs as when computing
 Kendall tau rank correlation with ties.  In the case of strings, this is wrong.  The string elements are not ranks, and the result does not
 give you minimum adjacent swaps to edit one string to the other.</p>

 <p>Consider this example.  Let s1 = "abcdaabb" and s2 = "dcbababa".  Computing number of discordant pairs (in the sense of Kendall
 tau rank correlation) in this case is 11.  I'll leave it as an exercise to the reader of this documentation to confirm.  However,
 it is possible to edit s2 into s1 with fewer than 11 adjacent swaps--namely with 9 swaps as follows: "cdbababa", "cbdababa", "bcdababa",
 "bcadbaba", "bacdbaba", "abcdbaba", "abcdabba", "abcdabab", "abcdaabb".</p>

 <p>Our implementation, instead, actually computed the minimum number of adjacent swaps to transform s1 into s2, and works
 as follows.  First, the alphabet of s1 is mapped to the integers from 0 to L-1 (where L is the number of unique characters).
 This step is done in O(n lg n) time by sorting a copy of s1 and comparing adjacent elements for equality.  Second, s1 and s2 are 
 both relabeled from the original alphabet to this new integer based alphabet.  This relabeling step is also O(n lg n), involving a binary search
 of the sorted copy of s1 for each of the n elements of s1 and each of the n elements of s2.</p>

 <p>The third step involves performing a bucket sort of the relabeled s1.  Specifically, L empty buckets are initialized, where buckets are
 implemented as simple singly linked lists.  For each element of the relabeled s1, its index is added to the bucket corresponding to
 its integer label, maintaining the order the indices were added.  Each bucket contains the indices of all copies of the corresponding
 element.  For example, if s1 = "abaabc", and if the relabeled version is "010012", then bucket 0 contains (0, 2, 3), bucket 1 contains (1, 4),
 bucket 2 contains (5).  Next, another bucket sort of the relabeled s2 is performed in the same way, with an additional set of L
 buckets.  There will be at most 2n buckets (if all elements are unique), so the time to initialize the empty buckets is O(n) in worst case.
 The time to populate the buckets with the indices of the relabeled elements of s1 and s2 is O(n), involving simple linear iteration.
 Therefore, this bucket sort step is likewise O(n) time.</p>

 <p>This fourth step involves generating a permutation that maps the elements of s1 to the corresponding elements of s2.  Consider as an example
 the following partially defined string s1 = "**A**A**A**".  Each of the * are characters other than "A".  Now consider an s2 = "AA********A".
 Both contain 3 copies of "A".  In s1 they are at positions {2, 5, 8}, and in s2 positions {0, 1, 10}.  In the shortest sequence of adjacent swaps that
 transforms s1 to s2, the "A" in position 2 of s1 must correspond to the "A" in position 0 of s2.  Likewise,
 the "A" in position 5 of s1 must correspond to the "A" in position 1 of s2, and  
 the "A" in position 8 of s1 must correspond to the "A" in position 10 of s2.  Why?  Well, if they were mapped any other way, then at some point
 in the sequence of adjacent swaps, there'd be a swap of a pair of adjacent "A"s.  Such a swap accomplishes nothing other than increasing the edit 
 sequence length.  So the minimum number of adjacent swaps must not have any like this.</p>

 <p>Therefore, the fourth step involves iterating over the buckets from step 3 to generate a mapping between elements of s1 and s2.
 If bucket b1(i,j) is the index of the jth copy of element i in s1, and similarly for b2(i,j), then this mapping M will be such that
 M[b1(i,j)] = b2(i,j).  Generating this mapping requires O(n) time.</p>

 <p>The previous step provides a permutation of the integers from 0 to n-1 that maps the elements between the two strings (sequences).
 The final step is to count the inversions in that permutation which is done in O(n lg n) time with a modified mergesort.</p>

 <p>Runtime: O(n lg n), where n is the length of the shorter of the two sequences.</p>

 <p>If your sequences are guaranteed not to have duplicates, and to contain the same set of elements, then consider instead using the
 <a href="../../../../org/cicirello/permutations/distance/KendallTauDistance.html" title="class in org.cicirello.permutations.distance"><code>KendallTauDistance</code></a> class, which assumes permutations of the integers from 0 to N-1.</p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/cicirello/sequences/distance/KendallTauDistance.html#KendallTauDistance--">KendallTauDistance</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/cicirello/sequences/distance/KendallTauDistance.html#distance-org.cicirello.sequences.Sequence-org.cicirello.sequences.Sequence-">distance</a></span>(<a href="../../../../org/cicirello/sequences/Sequence.html" title="interface in org.cicirello.sequences">Sequence</a>&lt;T&gt;&nbsp;s1,
        <a href="../../../../org/cicirello/sequences/Sequence.html" title="interface in org.cicirello.sequences">Sequence</a>&lt;T&gt;&nbsp;s2)</code>
<div class="block">Measures the distance between two Sequences.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.cicirello.sequences.distance.AbstractSequenceDistanceMeasurer">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.cicirello.sequences.distance.<a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html" title="class in org.cicirello.sequences.distance">AbstractSequenceDistanceMeasurer</a></h3>
<code><a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distance-boolean:A-boolean:A-">distance</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distance-byte:A-byte:A-">distance</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distance-char:A-char:A-">distance</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distance-double:A-double:A-">distance</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distance-float:A-float:A-">distance</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distance-int:A-int:A-">distance</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distance-long:A-long:A-">distance</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distance-short:A-short:A-">distance</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distance-java.lang.String-java.lang.String-">distance</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distancef-boolean:A-boolean:A-">distancef</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distancef-byte:A-byte:A-">distancef</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distancef-char:A-char:A-">distancef</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distancef-double:A-double:A-">distancef</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distancef-float:A-float:A-">distancef</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distancef-int:A-int:A-">distancef</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distancef-long:A-long:A-">distancef</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distancef-org.cicirello.sequences.Sequence-org.cicirello.sequences.Sequence-">distancef</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distancef-short:A-short:A-">distancef</a>, <a href="../../../../org/cicirello/sequences/distance/AbstractSequenceDistanceMeasurer.html#distancef-java.lang.String-java.lang.String-">distancef</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="KendallTauDistance--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>KendallTauDistance</h4>
<pre>public&nbsp;KendallTauDistance()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="distance-org.cicirello.sequences.Sequence-org.cicirello.sequences.Sequence-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>distance</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;int&nbsp;distance(<a href="../../../../org/cicirello/sequences/Sequence.html" title="interface in org.cicirello.sequences">Sequence</a>&lt;T&gt;&nbsp;s1,
                        <a href="../../../../org/cicirello/sequences/Sequence.html" title="interface in org.cicirello.sequences">Sequence</a>&lt;T&gt;&nbsp;s2)</pre>
<div class="block">Measures the distance between two Sequences.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Type of element in sequence</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s1</code> - First String.</dd>
<dd><code>s2</code> - Second String.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>distance between s1 and s2</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if sequences are of different lengths, or contain different elements</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/cicirello/sequences/distance/ExactMatchDistance.html" title="class in org.cicirello.sequences.distance"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/cicirello/sequences/distance/LongestCommonSubsequenceDistance.html" title="class in org.cicirello.sequences.distance"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/cicirello/sequences/distance/KendallTauDistance.html" target="_top">Frames</a></li>
<li><a href="KendallTauDistance.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2005-2018 Vincent A. Cicirello. <a href="https://www.cicirello.org/" target=_top>https://www.cicirello.org/</a></small></p>
</body>
</html>
